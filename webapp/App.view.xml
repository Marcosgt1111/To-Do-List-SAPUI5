<mvc:View
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    controllerName="ui5.quickstart.controller.App"
    xmlns:layout="sap.ui.layout"
    xmlns:core="sap.ui.core">
    
    <!--KPIs-->
    <layout:HorizontalLayout class="sapUiSmallMargin">
        <GenericTile class="sapUiSmallMargin" header="Falta no Estoque" subheader="Contagem baseada nas quantidades em estoque"
        press=".onShowOverdue">
        <TileContent>
            <NumericContent value="{/kpi/overdue}" state="Error"/>
        </TileContent>
        </GenericTile>

        <GenericTile class="sapUiSmallMargin" header="Em Estoque" subheader="Pronto para o uso">
            <TileContent>
                <NumericContent value="{/kpi/today}" state="Information"/>
            </TileContent>
        </GenericTile>

        <GenericTile class="sapUiSmallMargin" header="Pedidos" subheader="item com prazo marcado">
            <TileContent>
                <NumericContent value="{/kpi/tomorrow}" state="Success"/>
            </TileContent>
        </GenericTile>
    </layout:HorizontalLayout>

    <!--Forms-->

    <Toolbar class="sapUiMediumMarginTop">
        <Input id="taskInput" placeholder="O que precisa ser feito?" width="40%"/>
        <Select id="prioritySelect" width="20%">
          <items>
            <core:Item key="low" text="Baixa"/>
            <core:Item key="medium" text="Média"/>
            <core:Item key="high" text="Alta"/>
            <core:Item key="critical" text="Crítica"/>
          </items>
        </Select>
        <DatePicker 
          id="datePicker" 
          width="20%" 
          placeholder="dd/MM/aa"
          displayFormat="dd/MM/yy"/>
        <Button text="Adicionar" type="Emphasized" press=".onAddTask"/>
    </Toolbar>

    <!--Filtros-->

    <SegmentedButton selectionChange=".onFilterTasks" class="sapUiSmallMargin">
        <items>
          <SegmentedButtonItem key="all" text="Todos"/>
          <SegmentedButtonItem key="open" text="Abertos"/>
          <SegmentedButtonItem key="done" text="Concluídos"/>
        </items>
      </SegmentedButton>

      <List id="taskList" items="{/tasks}">
        <CustomListItem type="Active">
          <HBox justifyContent="SpaceBetween" alignItems="Center">
            <HBox alignItems="Center" class="sapUiSmallMarginBeginEnd">
                <VBox>
                    <Text text="{description}" />
                    <ObjectStatus text="{priority}" state="{priorityState}" class="sapUiTinyMarginTop"/>
                </VBox>
            </HBox>
            <HBox alignItems="Center" class="sapUiSmallMarginBeginEnd">
                <Text text="{date}" class="sapUiSmallMarginEnd"/>
                <core:Icon src="sap-icon://delete" press=".onDeleteTask" color="#d00" tooltip="Remover Tarefa"/>
            </HBox>
          </HBox>
        </CustomListItem>
      </List>
    
</mvc:View>